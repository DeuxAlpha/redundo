<VirtualHost *:80>
    ServerName redundo.net
    ServerAlias www.redundo.net
    ServerAdmin ap007@aquinas.edu

    ProxyPass /api/ http://redundo-dotnet-app:5000/api/

    ProxyPass / http://redundo-nuxt-app:3000/

    ErrorLog ${APACHE_LOG_DIR}/redundo-website-error.log
    CustomLog ${APACHE_LOG_DIR}/redundo-website-access.log combined
    
    RewriteEngine on
    RewriteCond %{SERVER_NAME} =www.redundo.net [OR]
    RewriteCond %{SERVER_NAME} =redundo.net
    RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</VirtualHost>
